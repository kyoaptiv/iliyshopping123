# 網站測試指南

## 🚀 快速啟動

### 方法一：使用自動啟動腳本（推薦）

執行 `啟動網站.bat`

這會自動：
- 檢查所有設定
- 安裝缺少的依賴
- 啟動前後端伺服器

### 方法二：手動啟動

#### 1. 確認 MySQL 運行

在 XAMPP Control Panel 中確認 MySQL 正在運行（顯示「Stop」按鈕）

#### 2. 啟動後端

開啟新的命令提示字元：

```bash
cd server
npm install  # 如果還沒安裝依賴
npm start
```

或使用開發模式（自動重載）：

```bash
cd server
npm run dev
```

後端應該運行在：http://localhost:5000

#### 3. 啟動前端

開啟另一個新的命令提示字元：

```bash
cd client
npm install  # 如果還沒安裝依賴
npm start
```

前端應該運行在：http://localhost:3000

---

## ✅ 測試清單

### 步驟 1：檢查後端 API

1. **開啟瀏覽器**，訪問：http://localhost:5000/api/health

2. **應該看到**：
   ```json
   {
     "status": "OK",
     "message": "益利肉類食品販售網站 API 運行中"
   }
   ```

3. **如果看到這個訊息** → ✅ 後端正常運行

### 步驟 2：檢查前端

1. **開啟瀏覽器**，訪問：http://localhost:3000

2. **應該看到**：
   - 網站首頁
   - Banner 圖片
   - 公司簡介
   - 熱門商品列表

3. **如果看到網站** → ✅ 前端正常運行

### 步驟 3：測試前台功能

#### 3.1 瀏覽商品

- [ ] 點擊「商品列表」或「查看所有商品」
- [ ] 應該看到商品列表
- [ ] 每個商品顯示：圖片、名稱、重量、價格
- [ ] 測試分類篩選功能

#### 3.2 查看商品詳情

- [ ] 點擊任一商品
- [ ] 應該看到商品詳情頁
- [ ] 顯示：商品圖片、名稱、重量、價格、介紹
- [ ] 測試數量選擇器（+/- 按鈕）

#### 3.3 購物車功能

- [ ] 在商品列表或詳情頁點擊「加入購物車」
- [ ] 應該看到提示訊息
- [ ] 點擊右上角「購物車」圖示
- [ ] 應該看到已加入的商品
- [ ] 測試修改數量
- [ ] 測試刪除商品
- [ ] 檢查總金額計算是否正確

#### 3.4 訂單送出

- [ ] 在購物車頁面點擊「確認送出訂單」
- [ ] 填寫客戶資訊：
  - 姓名（必填）
  - 電話（必填）
  - Email（選填）
  - 地址（選填）
- [ ] 點擊「確認送出訂單」
- [ ] 應該看到成功訊息
- [ ] 檢查 Email 是否收到訂單通知（如果已設定 Email）

### 步驟 4：測試後台功能

#### 4.1 登入後台

- [ ] 訪問：http://localhost:3000/admin/login
- [ ] 輸入帳號：`admin`
- [ ] 輸入密碼：`12345`
- [ ] 點擊「登入」
- [ ] 應該成功跳轉到管理後台

#### 4.2 商品管理

- [ ] 查看商品列表
- [ ] 測試搜尋功能（輸入商品名稱）
- [ ] 點擊「新增商品」
  - [ ] 填寫商品資訊
  - [ ] 上傳商品圖片
  - [ ] 點擊「儲存」
  - [ ] 應該成功新增商品
- [ ] 點擊「編輯」按鈕
  - [ ] 修改商品資訊
  - [ ] 點擊「儲存」
  - [ ] 應該成功更新商品
- [ ] 點擊「刪除」按鈕
  - [ ] 確認刪除
  - [ ] 商品應該從列表中移除

#### 4.3 登出

- [ ] 點擊「登出」按鈕
- [ ] 應該跳轉到登入頁面
- [ ] 嘗試直接訪問 http://localhost:3000/admin
- [ ] 應該被導向登入頁面

---

## 🔍 常見問題排除

### 問題 1：前端無法連接到後端

**症狀：** 商品列表為空，或出現連線錯誤

**檢查：**
1. 確認後端正在運行（http://localhost:5000/api/health）
2. 開啟瀏覽器開發者工具（F12）→ Console 標籤
3. 查看是否有錯誤訊息

**解決方法：**
- 確認後端伺服器正在運行
- 檢查 `client/src/utils/api.js` 中的 API URL

### 問題 2：登入失敗

**症狀：** 顯示「伺服器錯誤」或「帳號或密碼錯誤」

**檢查：**
1. 確認資料庫已匯入（執行「使用XAMPP MySQL.bat」→ 選擇 [4] 檢查管理員帳號）
2. 確認後端正在運行
3. 查看後端控制台的錯誤訊息

**解決方法：**
- 確認資料庫中有管理員帳號（admin / 12345）
- 檢查 `.env` 檔案設定

### 問題 3：圖片無法顯示

**症狀：** 商品圖片顯示為破圖

**檢查：**
1. 確認 `server/uploads/products` 目錄存在
2. 確認後端正在運行
3. 檢查圖片路徑是否正確

**解決方法：**
- 上傳新圖片測試
- 檢查後端靜態檔案服務設定

### 問題 4：購物車資料遺失

**症狀：** 重新整理頁面後購物車變空

**說明：**
- 這是正常的，購物車資料儲存在瀏覽器的 localStorage
- 清除瀏覽器快取會導致購物車資料遺失

---

## 📊 測試結果記錄

### 前台功能測試

| 功能 | 狀態 | 備註 |
|------|------|------|
| 瀏覽商品列表 | ⬜ | |
| 查看商品詳情 | ⬜ | |
| 加入購物車 | ⬜ | |
| 修改購物車數量 | ⬜ | |
| 刪除購物車商品 | ⬜ | |
| 送出訂單 | ⬜ | |
| Email 通知 | ⬜ | |

### 後台功能測試

| 功能 | 狀態 | 備註 |
|------|------|------|
| 登入系統 | ⬜ | |
| 查看商品列表 | ⬜ | |
| 搜尋商品 | ⬜ | |
| 新增商品 | ⬜ | |
| 編輯商品 | ⬜ | |
| 刪除商品 | ⬜ | |
| 上傳圖片 | ⬜ | |
| 登出系統 | ⬜ | |

---

## 🎉 測試完成

如果所有功能都正常運作，恭喜您！網站已經可以正常使用了！

### 下一步

1. **上傳實際商品資料**
   - 使用後台新增真實商品
   - 上傳商品圖片

2. **測試 Email 功能**
   - 確認 Email 設定正確
   - 測試訂單通知

3. **準備部署**
   - 參考「部署指南.md」
   - 部署到 Netlify + Railway

---

## 💡 提示

- 開發時保持兩個終端視窗開啟（一個後端，一個前端）
- 使用瀏覽器開發者工具（F12）查看錯誤
- 查看後端控制台了解 API 請求狀態
- 定期備份資料庫

